# Resource: honeycombio_webhook_recipient

`honeycombio_webhook_recipient` allows you to define and manage a Webhook recipient that can be used by Triggers or BurnAlerts notifications.

## Example Usage

### Standard Webhook

```terraform
resource "honeycombio_webhook_recipient" "prod" {
  name   = "Production Alerts"
  secret = "a63dab148496ecbe04a1a802ca9b95b8"
  url    = "https://my.url.corp.net"
}
```

### Custom Webhook

```terraform
resource "honeycombio_webhook_recipient" "prod" {
  name   = "Production Alerts"
  secret = "a63dab148496ecbe04a1a802ca9b95b8"
  url    = "https://my.url.corp.net"
    
  header {
    name = "Authorization"
    value = "Bearer 123"
  }
    
  template {
    type = "trigger"
    body = <<EOT
		{
			"name": " {{ .Name }}",
			"id": " {{ .ID }}",
			"description": " {{ .Description }}",
            "threshold": {
              "op": "{{ .Operator }}",
              "value": "{{ .Threshold }}"
            },
		}
		EOT
  }
    
  variable {
      name          = "severity"
      default_value = "critical"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of this Webhook recipient.
- `url` (String) The URL of the endpoint the notification will be sent to.

### Optional

- `header` (Block Set) Custom headers for webhooks (see [below for nested schema](#nestedblock--header))
- `secret` (String, Sensitive) The secret to include when sending the notification to the webhook.
- `template` (Block Set) Template for custom webhook payloads (see [below for nested schema](#nestedblock--template))
- `variable` (Block Set) Variables for webhook templates (see [below for nested schema](#nestedblock--variable))

### Read-Only

- `id` (String) The unique identifier for this Recipient.

<a id="nestedblock--header"></a>
### Nested Schema for `header`

Required:

- `name` (String) The name or key for the header

Optional:

- `value` (String) Value for the header


<a id="nestedblock--template"></a>
### Nested Schema for `template`

Required:

- `body` (String) JSON formatted string of the webhook payload
- `type` (String) The type of the webhook template


<a id="nestedblock--variable"></a>
### Nested Schema for `variable`

Required:

- `name` (String) The name of the variable

Optional:

- `default_value` (String) An optional default value for the variable

When configuring custom webhook payloads, use the `template` block. The `type` attribute can be `trigger`, `exhaustion_time`, or `budget_rate`. Only one template block of each type is allowed on a single recipient.

The `variable` block creates custom variables that can be interpolated in a template. To configure a variable, at least one `template` block must also be configured.

The `header` block adds custom HTTP headers to the webhook request. Up to five custom headers can be configured. Reserved headers `Content-Type`, `User-Agent`, and `X-Honeycomb-Webhook-Token` cannot be used.

## Import

Webhook Recipients can be imported by their ID, e.g.

```
$ terraform import honeycombio_webhook_recipient.my_recipient nx2zsegA0dZ
```
